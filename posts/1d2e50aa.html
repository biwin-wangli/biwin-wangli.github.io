
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="BiWin&#39;s Blog">
    <title>二、(Docker系列)Docker灵魂探讨 - BiWin&#39;s Blog</title>
    <meta name="author" content="Mr.WangLi">
    
        <meta name="keywords" content="Hexo,javascript,java,docker,kubernetes,jvm,mysql,nodejs,vue,mybatis,Docker,Image,Container,Dockerfile">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Mr.WangLi","sameAs":["https://github.com/biwin-wangli","http://stackoverflow.com/users","https://www.linkedin.com/profile/","mailto:274027703@qq.com"],"image":"https://img.biwin.eu.org/touxiang.jpeg"},"articleBody":"\n\n\nImage and Container一、 深入探讨Image官方镜像1通过docker的环境搭建，我们知道可以通过docker run [name] 去拉取一个镜像，但这些image是在官方网站，一个是速度可能比较慢，第二是谁去创建的image放在官方网站的呢？我们自己可以不可以创建一个image呢？\n\n官方镜像地址仓库\nMysql-Image\n\n从上面的地址中，我们可以发现一个叫Dockerfile的文件，这类文件主要就是为了制作image的，我们可以将我们的自己的一整套环境进行镜像的制作，后续就可以直接利用制作好的镜像进行快速部署和落地。\n\nDockerfile认识\n不妨我们也来制作一个自己的image的镜像，顺便学习一下Dockerfile文件的常见语法\n\n1234567891011121314151617181920212223242526272829FORM：指定基础镜像，比如FORM ubuntu:14:04\tFORM ubuntu:14:04RUN：在镜像内部执行一些命令，比如安装软件，配置环境等，换行可以使用“\\”\tRUN groupad -r mysql &amp;&amp; useradd -r -g mysql mysqlENV：设置变量的值，ENV MYSQL_MAJOR 5.7,可以通过docker run --e key=value修改，后面可以直接使用$&#123;MYSQL_MAJOR&#125;\tENV MYSQL_MAJOR 5.7LABEL：设置镜像标签\tLABEL email=&quot;274027703@.com&quot;\tLABEL name=&quot;wangli&quot;VOLUME：指定数据的挂载目录\tVOLUME /var/lib/mysqlCOPY：将主机的文件复制到镜像内，如果目录不存在，会自动创建所需要的目录，注意只是复制，不会提取和解压\tCOPY docker-entryporint.sh /usr/local/bin/ADD： 将主机的文件复制到镜像内，和COPY类似，只是ADD会对压缩文件提取和解压\tADD application.yml /etc/wangli/WORKDIR：指定镜像的工作目录，之后的命令都是基于此目录工作，若不存在则创建\tWORKDIR /usr/local\tWORKDIR tomcat\tRUN touch test.txt\t// 会在/usr/local/tomcat下创建test.txt文件\tWORKDIR /root\tADD app.yml test/\t// 会在/root/test下多出一个app.yml文件CMD：容器启动的时候默认会执行的命令，若有多个CMD命令，则最后一个生效\tCMD [&quot;mysqld&quot;] 或者 CMD mysqldENTRYPOINT： 和CMD的使用类似，不同的是，docker run执行时，会覆盖CMD的命令，而ENTRYPOINT不会\tENTRYPOINT [“docker-entrypoint.sh”]EXPOSE： 指定镜像要暴露的端口，启动镜像时，可以使用-p将该端口映射给宿主机\tEXPOSE 3306\n\n基于Dockerfile实战Spring项目123456789101112131415161718192021创建一个Spring Boot项目写一个Controller，包含一个公共的GetMapping(&quot;/dockerfile&quot;)mvn clean package 打成一个jar包在docker环境中新建一个目录“first-dockerfile”上传“dockerfile-demo-0.0.1-SNAPSHOT.jar&quot;到该目录下，并且在此目录创建Dockerfile创建Dockerfile文件，并编写内容\tFROM openjdk:8\tMAINTAINER wangli\tLABEL name=&quot;dockerfile-demo&quot; version=&quot;v1.0&quot; author=&quot;wangli&quot;\tCOPY dockerfile-demo-0.0.1-SNAPSHOT.jar dockerfile-image.jar\tCMD [&quot;java&quot;, &quot;-jar&quot;,&quot;dockerfile-image.jar&quot;]基于Dockerfile构建镜像\tdocker build -t wangli-docker-image .基于image创建container\tdocker run -d --name user01 -p 9090:8080 wangli-docker-image查看启动日志\tdocker logs user01宿主机上访问\tcurl lcoalhost:9090/dockerfile还可以再次启动一个\tdocker run -d --name user01 -p 8081:8080 wangli-docker-image\n\n将镜像推送至官网123456789101112首先需要在hub.docker.com注册自己的账户在docker机器上登录\tdocker login输入用户名和密码docker push 用户名/wangli-docker-image[注意镜像名称要和docker id一直，不然push不成功]给image重命名，并删除掉原来的\tdocker tag wangli-docker-image 用户名/wangli-docker-image\tdocker rmi -f wangli-docker-image再次推送，刷新hub.docker.com后台，发现成功别人下载，并且运行\tdocker pull 用户名/wangli-docker-image\tdocker run -d --name user01 -p 8081:8080 用户名/wangli-docker-image\n\n使用阿里云Docker hub\n阿里云docker仓库\n参考手册\n\n1234567891011登录到阿里云docker仓库\tsudo docker login --username=274027703@qq.com registry.cn-hangzhou.aliyuncs.com输入密码创建命名空间，比如wangli给image打tag\tsudo docker tag [ImageId] registry.cn-hangzhou.aliyuncs.com/wangli/wangli-docker-image:v1.0推送镜像到docker阿里云仓库\tsudo docker push registry.cn-hangzhou.aliyuncs.com/wangli/wangli-docker-image:v1.0别人下载，并且运行\tdocker pull registry.cn-hangzhou.aliyuncs.com/wangli/wangli-docker-image:v1.0\tdocker run -d --name user01 -p 8081:8080 registry.cn-hangzhou.aliyuncs.com/wangli/wangli-docker-image:v1.0\n\n搭建自己的Docker Harbor\n可以认为是私有的image仓库，类似maven的nexus。\n\n123456789101112访问github上的harbor项目\thttps://github.com/goharbor/harbor下载版本，比如1.7.1\thttps://github.com/goharbor/harbor/releases找一台安装了docker-compose，上传并解压\ttar -zxvf xxx.tar.gz进入到harbor目录\t修改harbor.cfg文件，主要是ip地址修改成当前机器的ip地址\t同时也可以看到Harbor的面，默认是Harbor12345安装harbor，需要一些时间\tsh install.sh浏览器访问，比如39.100.39.63，输入用户名和密码即可\n\nImage常见操作12345678910111213查看本地image列表\tdocker images\tdocker image ls获取远端镜像\tdocker pull删除镜像[注意此镜像如果正在使用，或者有关联的镜像，则需要先处理完]\tdocker image rm [imageid]\tdocker rmi -f [imageid]\tdocker rmi -f $(docker image ls) 删除所有镜像运行镜像\tdocker run image发布镜像\tdocker push\n\n深入探讨Container\n既然container是有image运行起来的，那么是否可以劣迹为container和image有某种关系？\n\n\n1理解：其实可以理解为container只是基于image之后的layer而已，也就是可以通过docker run image创建出一个container出来。\n\ncontainer到image\n既然container是基于image之上的，想想是否能够由一个container反推出image呢？\n肯定是可以的，比如通过docker run运行起一个container出来，这时候对container对一些修改，然后再生成一个新的image，这时候image的由来就不仅仅只能通过Dockerfile咯。\n\n实验\n12345678910111213141516171819拉取一个centos image\tdocker pull centos根据centos镜像创建出一个container\tdocker run -d -it --name my-centos centos进入my-centos容器中\tdocker exec -it my-centos bash输入vim命令\tbash:vim:command not found我们要做的是\t对该container进行修改，也就是安装一些vim命令，然后将其生成一个新的centos在centos的container中安装vim\tyum install -y vim退出容器，将其生成一个新的centos，名称为“vim-centos-image”\tdocker commit my-centos vim-centos-image查看镜像列表，并且基于&quot;vim-centos-image&quot;创建新的容器\tdocker run -d -it --name my-vim-centos vim-centos-image进入到my-vim-centos容器中，检查vim命令是否存在\tdocker exec -it my-vim-centos bash\tvim\n\n结论\n1可以通过docker commit命令基于一个container重新生成一个image，但是一般得到image的方式不建议这么做，不然image怎么来的就全然不知了。\n\ncontainer资源限制\n如果不对container的资源做限制，它就会无限制地使用物理机的资源，这样显然是不合适的。\n查看资源情况： docker stats\n\n内存限制123--memory   Memory limit如果不设置  --memory-swap,其大小和memory一样docker run -d --memory 100M --name tomcat1 tomcat\n\nCPU限制12cpu-shares    权重docker run -d --cpu-shares 10 --name tomcat2 tomat\n\n图形化资源监控\n参考官方git\n\n12345678sudo curl -L git.io/scope -o /usr/local/bin/scopesudo chmod a+x /usr/local/bin/scopescope launch 39.100.39.63`# 停止scope`scope stop`# 同时监控两台机器，在两台机器中分别执行如下命令`scope launch ip1 ip2\n\ncontainer常见操作12345678910111213141516171819根据镜像创建容器\tdocker run -d --name -p 9090:8080 my-tomcat tomcat查看运行中的container\tdocker ps查看所有的container[包含退出的]\tdocker ps -a删除container\tdocker rm [containerid]\tdocker rm -f $(docker ps -a)   删除所有container进入到一个container中\tdocker exec -it container bash根据container生成image\tdocker commit查看某个container的日志\tdocker stats查看容器详细信息\tdocker inspect container停止/启动容器\tdocker stop/start container\n\n底层技术支持\nContainer是一种轻量级的虚拟化技术，不用模拟硬件创建虚拟机。\nDocker是基于Linux kernel的Namespace、CGroups、UnionFIleSystem等技术封装成的一种自定义容器格式，从而提供一套虚拟运行环境。\n123&gt;Namespace：用来做隔离的，比如pid[进程]、net[网络]、mnt[挂载点]&gt;CGroups：Contrller Groups用来做资源限制，比如内存和CPU等&gt;Union file Systems：用来做image和container分层","dateCreated":"2019-11-06T19:08:25+08:00","dateModified":"2024-09-01T21:22:32+08:00","datePublished":"2019-11-06T19:08:25+08:00","description":"深入学习Image和Container","headline":"二、(Docker系列)Docker灵魂探讨","image":["https://5b868fd.webp.li/docker-conver.png","http://pic.tsmp4.net/api/fengjing/img.php"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.biwin.eu.org/posts/1d2e50aa.html"},"publisher":{"@type":"Organization","name":"Mr.WangLi","sameAs":["https://github.com/biwin-wangli","http://stackoverflow.com/users","https://www.linkedin.com/profile/","mailto:274027703@qq.com"],"image":"https://img.biwin.eu.org/touxiang.jpeg","logo":{"@type":"ImageObject","url":"https://img.biwin.eu.org/touxiang.jpeg"}},"url":"https://blog.biwin.eu.org/posts/1d2e50aa.html","keywords":"docker","thumbnailUrl":"https://5b868fd.webp.li/docker-conver.png"}</script>
    <meta name="description" content="Docker灵魂探讨">
<meta property="og:type" content="blog">
<meta property="og:title" content="二、(Docker系列)Docker灵魂探讨">
<meta property="og:url" content="https://blog.biwin.eu.org/posts/1d2e50aa.html">
<meta property="og:site_name" content="BiWin&#39;s Blog">
<meta property="og:description" content="Docker灵魂探讨">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://5b868fd.webp.li/dockerSection2-1.png">
<meta property="article:published_time" content="2019-11-06T11:08:25.000Z">
<meta property="article:modified_time" content="2024-09-01T13:22:32.716Z">
<meta property="article:author" content="Mr.WangLi">
<meta property="article:tag" content="docker">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://5b868fd.webp.li/dockerSection2-1.png">
    
    
        
    
    
        <meta property="og:image" content="https://img.biwin.eu.org/touxiang.jpeg"/>
    
    
        <meta property="og:image" content="https://5b868fd.webp.li/docker-conver.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://5b868fd.webp.li/docker-conver.png"/>
    
    
        <meta property="og:image" content="http://pic.tsmp4.net/api/fengjing/img.php"/>
        <meta class="swiftype" name="image" data-type="enum" content="http://pic.tsmp4.net/api/fengjing/img.php"/>
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-vfgvchqkdym9obx7tmwvvzqxiypypaaj66luf6y7bb4kfhuqzb8eonjh8v3p.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            BiWin&#39;s Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="打开链接: /#about"
            >
        
        
            <img class="header-picture" src="https://img.biwin.eu.org/touxiang.jpeg" alt="作者的图片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="阅读有关作者的更多信息"
                >
                    <img class="sidebar-profile-picture" src="https://img.biwin.eu.org/touxiang.jpeg" alt="作者的图片"/>
                </a>
                <h4 class="sidebar-profile-name">Mr.WangLi</h4>
                
                    <h5 class="sidebar-profile-bio"><p>喜欢技术，喜欢一个人！</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="首页"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="分类"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="标签"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="归档"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="搜索"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="关于"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/biwin-wangli"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://stackoverflow.com/users"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:274027703@qq.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="邮箱"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">邮箱</span>
                    </a>
            </li>
            
        </ul>
        
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=110 src="//music.163.com/outchain/player?type=0&id=3132987672&auto=1&height=90"></iframe>
    </div>
</nav>

            
        <div class="post-header-cover
                    text-center
                    post-header-cover--full"
             style="background-image:url('http://pic.tsmp4.net/api/fengjing/img.php');"
             data-behavior="4">
            
                <div class="post-header main-content-wrap text-center">
    
        <h1 class="post-title">
            二、(Docker系列)Docker灵魂探讨
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-11-06T19:08:25+08:00">
	
		    2019 年 11 月 6 日
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/devOps/">devOps</a>


    
</div>

        
    
    
        <!-- 不蒜子统计 -->
        <span id="busuanzi_container_page_pv" style='display:none' class="post-meta">
	        <i class="icon-smile icon"></i> 阅读数：<span id="busuanzi_value_page_pv"></span>次
	    </span>
    
</div>

            
        </div>

            <div id="main" data-behavior="4"
                 class="hasCover
                        hasCoverMetaIn
                        hasCoverCaption">
                
<article class="post">
    
        <span class="post-header-cover-caption caption">再繁忙的学习，也需要静一会下来，放松自己，欣赏美丽的风景</span>
    
    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <!-- excerpt -->
<h1 id="table-of-contents">目录</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Image-and-Container"><span class="toc-text">Image and Container</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81-%E6%B7%B1%E5%85%A5%E6%8E%A2%E8%AE%A8Image"><span class="toc-text">一、 深入探讨Image</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E9%95%9C%E5%83%8F"><span class="toc-text">官方镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dockerfile%E8%AE%A4%E8%AF%86"><span class="toc-text">Dockerfile认识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8EDockerfile%E5%AE%9E%E6%88%98Spring%E9%A1%B9%E7%9B%AE"><span class="toc-text">基于Dockerfile实战Spring项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E8%87%B3%E5%AE%98%E7%BD%91"><span class="toc-text">将镜像推送至官网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%98%BF%E9%87%8C%E4%BA%91Docker-hub"><span class="toc-text">使用阿里云Docker hub</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84Docker-Harbor"><span class="toc-text">搭建自己的Docker Harbor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Image%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C"><span class="toc-text">Image常见操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B1%E5%85%A5%E6%8E%A2%E8%AE%A8Container"><span class="toc-text">深入探讨Container</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#container%E5%88%B0image"><span class="toc-text">container到image</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#container%E8%B5%84%E6%BA%90%E9%99%90%E5%88%B6"><span class="toc-text">container资源限制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E9%99%90%E5%88%B6"><span class="toc-text">内存限制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CPU%E9%99%90%E5%88%B6"><span class="toc-text">CPU限制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%8C%96%E8%B5%84%E6%BA%90%E7%9B%91%E6%8E%A7"><span class="toc-text">图形化资源监控</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#container%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C"><span class="toc-text">container常见操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%8A%80%E6%9C%AF%E6%94%AF%E6%8C%81"><span class="toc-text">底层技术支持</span></a></li></ol></li></ol>

<h1 id="Image-and-Container"><a href="#Image-and-Container" class="headerlink" title="Image and Container"></a>Image and Container</h1><h2 id="一、-深入探讨Image"><a href="#一、-深入探讨Image" class="headerlink" title="一、 深入探讨Image"></a>一、 深入探讨Image</h2><h3 id="官方镜像"><a href="#官方镜像" class="headerlink" title="官方镜像"></a>官方镜像</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过docker的环境搭建，我们知道可以通过docker run [name] 去拉取一个镜像，但这些image是在官方网站，一个是速度可能比较慢，第二是谁去创建的image放在官方网站的呢？我们自己可以不可以创建一个image呢？</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/docker-library">官方镜像地址仓库</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/docker-library/tomcat/blob/master/8.5/jdk8/openjdk/Dockerfile">Mysql-Image</a></p>
<blockquote>
<p>从上面的地址中，我们可以发现一个叫Dockerfile的文件，这类文件主要就是为了制作image的，我们可以将我们的自己的一整套环境进行镜像的制作，后续就可以直接利用制作好的镜像进行快速部署和落地。</p>
</blockquote>
<h3 id="Dockerfile认识"><a href="#Dockerfile认识" class="headerlink" title="Dockerfile认识"></a>Dockerfile认识</h3><blockquote>
<p>不妨我们也来制作一个自己的image的镜像，顺便学习一下Dockerfile文件的常见语法</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">FORM：指定基础镜像，比如FORM ubuntu:14:04</span><br><span class="line">	FORM ubuntu:14:04</span><br><span class="line">RUN：在镜像内部执行一些命令，比如安装软件，配置环境等，换行可以使用“\”</span><br><span class="line">	RUN groupad -r mysql &amp;&amp; useradd -r -g mysql mysql</span><br><span class="line">ENV：设置变量的值，ENV MYSQL_MAJOR 5.7,可以通过docker run --e key=value修改，后面可以直接使用$&#123;MYSQL_MAJOR&#125;</span><br><span class="line">	ENV MYSQL_MAJOR 5.7</span><br><span class="line">LABEL：设置镜像标签</span><br><span class="line">	LABEL email=&quot;274027703@.com&quot;</span><br><span class="line">	LABEL name=&quot;wangli&quot;</span><br><span class="line">VOLUME：指定数据的挂载目录</span><br><span class="line">	VOLUME /var/lib/mysql</span><br><span class="line">COPY：将主机的文件复制到镜像内，如果目录不存在，会自动创建所需要的目录，注意只是复制，不会提取和解压</span><br><span class="line">	COPY docker-entryporint.sh /usr/local/bin/</span><br><span class="line">ADD： 将主机的文件复制到镜像内，和COPY类似，只是ADD会对压缩文件提取和解压</span><br><span class="line">	ADD application.yml /etc/wangli/</span><br><span class="line">WORKDIR：指定镜像的工作目录，之后的命令都是基于此目录工作，若不存在则创建</span><br><span class="line">	WORKDIR /usr/local</span><br><span class="line">	WORKDIR tomcat</span><br><span class="line">	RUN touch test.txt</span><br><span class="line">	// 会在/usr/local/tomcat下创建test.txt文件</span><br><span class="line">	WORKDIR /root</span><br><span class="line">	ADD app.yml test/</span><br><span class="line">	// 会在/root/test下多出一个app.yml文件</span><br><span class="line">CMD：容器启动的时候默认会执行的命令，若有多个CMD命令，则最后一个生效</span><br><span class="line">	CMD [&quot;mysqld&quot;] 或者 CMD mysqld</span><br><span class="line">ENTRYPOINT： 和CMD的使用类似，不同的是，docker run执行时，会覆盖CMD的命令，而ENTRYPOINT不会</span><br><span class="line">	ENTRYPOINT [“docker-entrypoint.sh”]</span><br><span class="line">EXPOSE： 指定镜像要暴露的端口，启动镜像时，可以使用-p将该端口映射给宿主机</span><br><span class="line">	EXPOSE 3306</span><br></pre></td></tr></table></figure>

<h3 id="基于Dockerfile实战Spring项目"><a href="#基于Dockerfile实战Spring项目" class="headerlink" title="基于Dockerfile实战Spring项目"></a>基于Dockerfile实战Spring项目</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">创建一个Spring Boot项目</span><br><span class="line">写一个Controller，包含一个公共的GetMapping(&quot;/dockerfile&quot;)</span><br><span class="line">mvn clean package 打成一个jar包</span><br><span class="line">在docker环境中新建一个目录“first-dockerfile”</span><br><span class="line">上传“dockerfile-demo-0.0.1-SNAPSHOT.jar&quot;到该目录下，并且在此目录创建Dockerfile</span><br><span class="line">创建Dockerfile文件，并编写内容</span><br><span class="line">	FROM openjdk:8</span><br><span class="line">	MAINTAINER wangli</span><br><span class="line">	LABEL name=&quot;dockerfile-demo&quot; version=&quot;v1.0&quot; author=&quot;wangli&quot;</span><br><span class="line">	COPY dockerfile-demo-0.0.1-SNAPSHOT.jar dockerfile-image.jar</span><br><span class="line">	CMD [&quot;java&quot;, &quot;-jar&quot;,&quot;dockerfile-image.jar&quot;]</span><br><span class="line">基于Dockerfile构建镜像</span><br><span class="line">	docker build -t wangli-docker-image .</span><br><span class="line">基于image创建container</span><br><span class="line">	docker run -d --name user01 -p 9090:8080 wangli-docker-image</span><br><span class="line">查看启动日志</span><br><span class="line">	docker logs user01</span><br><span class="line">宿主机上访问</span><br><span class="line">	curl lcoalhost:9090/dockerfile</span><br><span class="line">还可以再次启动一个</span><br><span class="line">	docker run -d --name user01 -p 8081:8080 wangli-docker-image</span><br></pre></td></tr></table></figure>

<h3 id="将镜像推送至官网"><a href="#将镜像推送至官网" class="headerlink" title="将镜像推送至官网"></a>将镜像推送至官网</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">首先需要在hub.docker.com注册自己的账户</span><br><span class="line">在docker机器上登录</span><br><span class="line">	docker login</span><br><span class="line">输入用户名和密码</span><br><span class="line">docker push 用户名/wangli-docker-image[注意镜像名称要和docker id一直，不然push不成功]</span><br><span class="line">给image重命名，并删除掉原来的</span><br><span class="line">	docker tag wangli-docker-image 用户名/wangli-docker-image</span><br><span class="line">	docker rmi -f wangli-docker-image</span><br><span class="line">再次推送，刷新hub.docker.com后台，发现成功</span><br><span class="line">别人下载，并且运行</span><br><span class="line">	docker pull 用户名/wangli-docker-image</span><br><span class="line">	docker run -d --name user01 -p 8081:8080 用户名/wangli-docker-image</span><br></pre></td></tr></table></figure>

<h3 id="使用阿里云Docker-hub"><a href="#使用阿里云Docker-hub" class="headerlink" title="使用阿里云Docker hub"></a>使用阿里云Docker hub</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://cr.console.aliyun.com/cn-hangzhou/instances/repositories">阿里云docker仓库</a></p>
<p><a target="_blank" rel="noopener" href="https://cr.console.aliyun.com/repository/cn-hangzhou/dreamit/image-repo/details">参考手册</a></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">登录到阿里云docker仓库</span><br><span class="line">	sudo docker login --username=274027703@qq.com registry.cn-hangzhou.aliyuncs.com</span><br><span class="line">输入密码</span><br><span class="line">创建命名空间，比如wangli</span><br><span class="line">给image打tag</span><br><span class="line">	sudo docker tag [ImageId] registry.cn-hangzhou.aliyuncs.com/wangli/wangli-docker-image:v1.0</span><br><span class="line">推送镜像到docker阿里云仓库</span><br><span class="line">	sudo docker push registry.cn-hangzhou.aliyuncs.com/wangli/wangli-docker-image:v1.0</span><br><span class="line">别人下载，并且运行</span><br><span class="line">	docker pull registry.cn-hangzhou.aliyuncs.com/wangli/wangli-docker-image:v1.0</span><br><span class="line">	docker run -d --name user01 -p 8081:8080 registry.cn-hangzhou.aliyuncs.com/wangli/wangli-docker-image:v1.0</span><br></pre></td></tr></table></figure>

<h3 id="搭建自己的Docker-Harbor"><a href="#搭建自己的Docker-Harbor" class="headerlink" title="搭建自己的Docker Harbor"></a>搭建自己的Docker Harbor</h3><blockquote>
<p>可以认为是私有的image仓库，类似maven的nexus。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">访问github上的harbor项目</span><br><span class="line">	https://github.com/goharbor/harbor</span><br><span class="line">下载版本，比如1.7.1</span><br><span class="line">	https://github.com/goharbor/harbor/releases</span><br><span class="line">找一台安装了docker-compose，上传并解压</span><br><span class="line">	tar -zxvf xxx.tar.gz</span><br><span class="line">进入到harbor目录</span><br><span class="line">	修改harbor.cfg文件，主要是ip地址修改成当前机器的ip地址</span><br><span class="line">	同时也可以看到Harbor的面，默认是Harbor12345</span><br><span class="line">安装harbor，需要一些时间</span><br><span class="line">	sh install.sh</span><br><span class="line">浏览器访问，比如39.100.39.63，输入用户名和密码即可</span><br></pre></td></tr></table></figure>

<h3 id="Image常见操作"><a href="#Image常见操作" class="headerlink" title="Image常见操作"></a>Image常见操作</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">查看本地image列表</span><br><span class="line">	docker images</span><br><span class="line">	docker image ls</span><br><span class="line">获取远端镜像</span><br><span class="line">	docker pull</span><br><span class="line">删除镜像[注意此镜像如果正在使用，或者有关联的镜像，则需要先处理完]</span><br><span class="line">	docker image rm [imageid]</span><br><span class="line">	docker rmi -f [imageid]</span><br><span class="line">	docker rmi -f $(docker image ls) 删除所有镜像</span><br><span class="line">运行镜像</span><br><span class="line">	docker run image</span><br><span class="line">发布镜像</span><br><span class="line">	docker push</span><br></pre></td></tr></table></figure>

<h2 id="深入探讨Container"><a href="#深入探讨Container" class="headerlink" title="深入探讨Container"></a>深入探讨Container</h2><blockquote>
<p>既然container是有image运行起来的，那么是否可以劣迹为container和image有某种关系？</p>
</blockquote>
<p><img src="https://5b868fd.webp.li/dockerSection2-1.png" alt="image-20191104204218889"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">理解：其实可以理解为container只是基于image之后的layer而已，也就是可以通过docker run image创建出一个container出来。</span><br></pre></td></tr></table></figure>

<h3 id="container到image"><a href="#container到image" class="headerlink" title="container到image"></a>container到image</h3><blockquote>
<p>既然container是基于image之上的，想想是否能够由一个container反推出image呢？</p>
<p>肯定是可以的，比如通过docker run运行起一个container出来，这时候对container对一些修改，然后再生成一个新的image，这时候image的由来就不仅仅只能通过Dockerfile咯。</p>
</blockquote>
<p><code>实验</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">拉取一个centos image</span><br><span class="line">	docker pull centos</span><br><span class="line">根据centos镜像创建出一个container</span><br><span class="line">	docker run -d -it --name my-centos centos</span><br><span class="line">进入my-centos容器中</span><br><span class="line">	docker exec -it my-centos bash</span><br><span class="line">输入vim命令</span><br><span class="line">	bash:vim:command not found</span><br><span class="line">我们要做的是</span><br><span class="line">	对该container进行修改，也就是安装一些vim命令，然后将其生成一个新的centos</span><br><span class="line">在centos的container中安装vim</span><br><span class="line">	yum install -y vim</span><br><span class="line">退出容器，将其生成一个新的centos，名称为“vim-centos-image”</span><br><span class="line">	docker commit my-centos vim-centos-image</span><br><span class="line">查看镜像列表，并且基于&quot;vim-centos-image&quot;创建新的容器</span><br><span class="line">	docker run -d -it --name my-vim-centos vim-centos-image</span><br><span class="line">进入到my-vim-centos容器中，检查vim命令是否存在</span><br><span class="line">	docker exec -it my-vim-centos bash</span><br><span class="line">	vim</span><br></pre></td></tr></table></figure>

<p><code>结论</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">可以通过docker commit命令基于一个container重新生成一个image，但是一般得到image的方式不建议这么做，不然image怎么来的就全然不知了。</span><br></pre></td></tr></table></figure>

<h3 id="container资源限制"><a href="#container资源限制" class="headerlink" title="container资源限制"></a>container资源限制</h3><blockquote>
<p>如果不对container的资源做限制，它就会无限制地使用物理机的资源，这样显然是不合适的。</p>
<p><code>查看资源情况： docker stats</code></p>
</blockquote>
<h4 id="内存限制"><a href="#内存限制" class="headerlink" title="内存限制"></a>内存限制</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--memory   Memory limit</span><br><span class="line">如果不设置  --memory-swap,其大小和memory一样</span><br><span class="line">docker run -d --memory 100M --name tomcat1 tomcat</span><br></pre></td></tr></table></figure>

<h4 id="CPU限制"><a href="#CPU限制" class="headerlink" title="CPU限制"></a>CPU限制</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cpu-shares    权重</span><br><span class="line">docker run -d --cpu-shares 10 --name tomcat2 tomat</span><br></pre></td></tr></table></figure>

<h4 id="图形化资源监控"><a href="#图形化资源监控" class="headerlink" title="图形化资源监控"></a>图形化资源监控</h4><blockquote>
<p>参考<a target="_blank" rel="noopener" href="https://github.com/weaveworks/scope">官方git</a></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -L git.io/scope -o /usr/local/bin/scope</span><br><span class="line">sudo chmod a+x /usr/local/bin/scope</span><br><span class="line">scope launch 39.100.39.63</span><br><span class="line"></span><br><span class="line">`# 停止scope`</span><br><span class="line">scope stop</span><br><span class="line">`# 同时监控两台机器，在两台机器中分别执行如下命令`</span><br><span class="line">scope launch ip1 ip2</span><br></pre></td></tr></table></figure>

<h3 id="container常见操作"><a href="#container常见操作" class="headerlink" title="container常见操作"></a>container常见操作</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">根据镜像创建容器</span><br><span class="line">	docker run -d --name -p 9090:8080 my-tomcat tomcat</span><br><span class="line">查看运行中的container</span><br><span class="line">	docker ps</span><br><span class="line">查看所有的container[包含退出的]</span><br><span class="line">	docker ps -a</span><br><span class="line">删除container</span><br><span class="line">	docker rm [containerid]</span><br><span class="line">	docker rm -f $(docker ps -a)   删除所有container</span><br><span class="line">进入到一个container中</span><br><span class="line">	docker exec -it container bash</span><br><span class="line">根据container生成image</span><br><span class="line">	docker commit</span><br><span class="line">查看某个container的日志</span><br><span class="line">	docker stats</span><br><span class="line">查看容器详细信息</span><br><span class="line">	docker inspect container</span><br><span class="line">停止/启动容器</span><br><span class="line">	docker stop/start container</span><br></pre></td></tr></table></figure>

<h2 id="底层技术支持"><a href="#底层技术支持" class="headerlink" title="底层技术支持"></a>底层技术支持</h2><blockquote>
<p>Container是一种轻量级的虚拟化技术，不用模拟硬件创建虚拟机。</p>
<p>Docker是基于Linux kernel的Namespace、CGroups、UnionFIleSystem等技术封装成的一种自定义容器格式，从而提供一套虚拟运行环境。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;Namespace：用来做隔离的，比如pid[进程]、net[网络]、mnt[挂载点]</span><br><span class="line">&gt;CGroups：Contrller Groups用来做资源限制，比如内存和CPU等</span><br><span class="line">&gt;Union file Systems：用来做image和container分层</span><br></pre></td></tr></table></figure></blockquote>
            


        </div>
    </div>
    <br/>
    <!-- 添加的部分 -->
    <!-- copyright -->
    
        <style>
.article-footer-copyright {
	border-left-color: #f66;
	padding: 12px 24px 12px 30px;
    margin: 2em 0;
    border-left-width: 4px;
    border-left-style: solid;
    background-color: #f8f8f8;
    position: relative;
    border-bottom-right-radius: 2px;
    border-top-right-radius: 2px;
	margin:0 auto;
	max-width: 850px;}
</style>
<div class="article-footer-copyright">
    <!-- <span>本文标题:</span><href="/%20"> 二、(Docker系列)Docker灵魂探讨</a><br/> -->
    <!-- <span>文章作者:</span><a href="/" title="访问 Mr.WangLi的个人博客">Mr.WangLi</a><br/> -->
	<span>版权归属:</span><a href="/" title="访问 Mr.WangLi的个人博客">Mr.WangLi</a><br/>
    <span>发布时间:</span>2019年11月06日 - 19:08 | 
    <span>最后更新:</span>2024年09月01日 - 21:22<br/>
    <span>原始链接:</span><a href="/posts/1d2e50aa.html" title="二、(Docker系列)Docker灵魂探讨">https://blog.biwin.eu.org/posts/1d2e50aa.html</a><br/>
    <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://blog.biwin.eu.org/posts/1d2e50aa.html"  aria-label="复制成功！"></i></span><br/>
    <span>许可协议:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">知识共享署名4.0 国际许可协议</a> 转载请保留原文链接及作者。
</div>

    
    <!-- copyright -->
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">标签</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/docker/" rel="tag">docker</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/posts/a2fc68e9.html"
                    data-tooltip="三、(Docker系列)Docker精髓剖析-网络"
                    aria-label="上一篇: 三、(Docker系列)Docker精髓剖析-网络"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/posts/f5f90d4.html"
                    data-tooltip="一、(Docker系列)初识Docker，搭建本地环境"
                    aria-label="下一篇: 一、(Docker系列)初识Docker，搭建本地环境"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://blog.biwin.eu.org/posts/1d2e50aa.html"
                    title="分享到 Weibo"
                    aria-label="分享到 Weibo"
                >
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.biwin.eu.org/posts/1d2e50aa.html&amp;title=二、(Docker系列)Docker灵魂探讨"
                    title="分享到 QQ"
                    aria-label="分享到 QQ"
                >
                    <i class="fab fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://blog.biwin.eu.org/posts/1d2e50aa.html"
                    title="分享到 Qzone"
                    aria-label="分享到 Qzone"
                >
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <br/>
<div class="vcomment"></div>
            
        
    </div>
</article>




                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2024 Mr.WangLi. All Rights Reserved.
    </span>
    <br/>
    
        <!-- 不蒜子统计 -->
        <span id="busuanzi_container_site_pv">
	                本站总访问量<span id="busuanzi_value_site_pv"></span>次
	        </span>
        <span class="post-meta-divider">|</span>
        <span id="busuanzi_container_site_uv" style='display:none'>
	                本站访客数<span id="busuanzi_value_site_uv"></span>人
	        </span>
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/posts/a2fc68e9.html"
                    data-tooltip="三、(Docker系列)Docker精髓剖析-网络"
                    aria-label="上一篇: 三、(Docker系列)Docker精髓剖析-网络"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/posts/f5f90d4.html"
                    data-tooltip="一、(Docker系列)初识Docker，搭建本地环境"
                    aria-label="下一篇: 一、(Docker系列)初识Docker，搭建本地环境"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://blog.biwin.eu.org/posts/1d2e50aa.html"
                    title="分享到 Weibo"
                    aria-label="分享到 Weibo"
                >
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.biwin.eu.org/posts/1d2e50aa.html&amp;title=二、(Docker系列)Docker灵魂探讨"
                    title="分享到 QQ"
                    aria-label="分享到 QQ"
                >
                    <i class="fab fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://blog.biwin.eu.org/posts/1d2e50aa.html"
                    title="分享到 Qzone"
                    aria-label="分享到 Qzone"
                >
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="http://service.weibo.com/share/share.php?&amp;title=https://blog.biwin.eu.org/posts/1d2e50aa.html"
                        aria-label="分享到 Weibo"
                    >
                        <i class="fab fa-weibo" aria-hidden="true"></i><span>分享到 Weibo</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.biwin.eu.org/posts/1d2e50aa.html&amp;title=二、(Docker系列)Docker灵魂探讨"
                        aria-label="分享到 QQ"
                    >
                        <i class="fab fa-qq" aria-hidden="true"></i><span>分享到 QQ</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://blog.biwin.eu.org/posts/1d2e50aa.html"
                        aria-label="分享到 Qzone"
                    >
                        <i class="fa fa-star" aria-hidden="true"></i><span>分享到 Qzone</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://img.biwin.eu.org/touxiang.jpeg" alt="作者的图片"/>
        
            <h4 id="about-card-name">Mr.WangLi</h4>
        
            <div id="about-card-bio"><p>喜欢技术，喜欢一个人！</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>一个有脾气的 Javaer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                中国·四川·成都
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="/assets/images/logo-algolia-nebula-blue-full.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">没有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/e800f027.html"
                            aria-label=": Java8新特性之Lambda表达式"
                        >
                            <img class="media-image" src="https://api.dujin.org/bing/1366.php" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/e800f027.html"
                            aria-label=": Java8新特性之Lambda表达式"
                        >
                            <h3 class="media-heading">Java8新特性之Lambda表达式</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年6月19日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>lambda表达式是java8给我们带来的几个重量级新特性之一，借用lambda表达式，可以让我们的java程序设计更加简洁。最近新的项目摒弃了1.6的版本，全面基于java8进行开发，本篇文章是java8新特性的第一篇，将探讨行为参数化、lambda表达式，以及方法引用。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/e19f5dc7.html"
                            aria-label=": Java8新特性之Optional类"
                        >
                            <img class="media-image" src="https://api.dujin.org/bing/1366.php" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/e19f5dc7.html"
                            aria-label=": Java8新特性之Optional类"
                        >
                            <h3 class="media-heading">Java8新特性之Optional类</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年6月19日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Optional不是对null关键字的一种替代，而是对于null判定提供了一种更加优雅的实现</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/df816e2e.html"
                            aria-label=": Java8新特性之流式数据处理"
                        >
                            <img class="media-image" src="https://api.dujin.org/bing/1366.php" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/df816e2e.html"
                            aria-label=": Java8新特性之流式数据处理"
                        >
                            <h3 class="media-heading">Java8新特性之流式数据处理</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年6月20日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>java8的流式处理极大了简化我们对于集合、数组等结构的操作，让我们可以以函数式的思想去操作，本篇文章将探讨java8的流式数据处理的基本使用。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/4e2dcaec.html"
                            aria-label=": Java8新特性之默认接口方法"
                        >
                            <img class="media-image" src="https://api.dujin.org/bing/1366.php" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/4e2dcaec.html"
                            aria-label=": Java8新特性之默认接口方法"
                        >
                            <h3 class="media-heading">Java8新特性之默认接口方法</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年6月21日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>从java8开始，接口不只是一个只能声明方法的地方，我们还可以在声明方法时，给方法一个默认的实现，我们称之为默认接口方法，这样所有实现该接口的子类都可以持有该方法的默认实现。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/f5f90d4.html"
                            aria-label=": 一、(Docker系列)初识Docker，搭建本地环境"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/f5f90d4.html"
                            aria-label=": 一、(Docker系列)初识Docker，搭建本地环境"
                        >
                            <h3 class="media-heading">一、(Docker系列)初识Docker，搭建本地环境</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年11月5日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>学习搭建Docker环境，结合{ % post_link docker工具箱命令集-问题集锦 % }食用，效果佳</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/1d2e50aa.html"
                            aria-label=": 二、(Docker系列)Docker灵魂探讨"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/1d2e50aa.html"
                            aria-label=": 二、(Docker系列)Docker灵魂探讨"
                        >
                            <h3 class="media-heading">二、(Docker系列)Docker灵魂探讨</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年11月6日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>深入学习Image和Container</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/a2fc68e9.html"
                            aria-label=": 三、(Docker系列)Docker精髓剖析-网络"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/a2fc68e9.html"
                            aria-label=": 三、(Docker系列)Docker精髓剖析-网络"
                        >
                            <h3 class="media-heading">三、(Docker系列)Docker精髓剖析-网络</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年11月15日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Docker和Linux中的网络深入</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/525c4592.html"
                            aria-label=": 五、(Docker系列)Docker深度提升篇笔记"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/525c4592.html"
                            aria-label=": 五、(Docker系列)Docker深度提升篇笔记"
                        >
                            <h3 class="media-heading">五、(Docker系列)Docker深度提升篇笔记</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年11月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Docker Compose与Docker Swarm</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/a95bfc2e.html"
                            aria-label=": docker工具箱命令集-问题集锦"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/a95bfc2e.html"
                            aria-label=": docker工具箱命令集-问题集锦"
                        >
                            <h3 class="media-heading">docker工具箱命令集-问题集锦</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年11月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Vagrant Docker 命令集解释备忘</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/8d02a8ee.html"
                            aria-label=": 四、(Docker系列)Docker项目实战"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/8d02a8ee.html"
                            aria-label=": 四、(Docker系列)Docker项目实战"
                        >
                            <h3 class="media-heading">四、(Docker系列)Docker项目实战</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年12月13日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Docker中的Volume</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="没有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 16 篇文章
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-2ilv1quqkw94scdhy4pnuktwociarglt6w05ucfykbnexqz9mfxy2dvfhgcl.min.js"></script>

<!--SCRIPTS END-->


    
        
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>

        <script>
            new Valine({
                el: '.vcomment',
                notify: false,
                verify: false,
                appId: "6Im09hBEDOiBEU45f3fOc9Hm-gzGzoHsz",
                appKey: "Tc4aa3tRDVWw4GJEcBNfaAuB",
                placeholder: "发现问题，讨论问题，反馈问题，欢迎您的留言和评论！",
                pageSize:'10',
                avatar:'monsterid',
                meta: ['nick', 'mail'],
                lang:''
            })
        </script>
    



    
<script src="/assets/js/moment-with-locales.js"></script>

    
<script src="/assets/js/algoliasearch.js"></script>

    <script>
        var algoliaClient = algoliasearch('I16OUI732Q', 'e1b3e94dd16c5fd972a4f855178f99f8');
        var algoliaIndex = algoliaClient.initIndex('blog');
    </script>


    </body>
</html>
