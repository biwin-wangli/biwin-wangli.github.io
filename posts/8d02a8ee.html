
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="BiWin&#39;s Blog">
    <title>四、(Docker系列)Docker项目实战 - BiWin&#39;s Blog</title>
    <meta name="author" content="Mr.WangLi">
    
        <meta name="keywords" content="Hexo,javascript,java,docker,kubernetes,jvm,mysql,nodejs,vue,mybatis,Docker,Volume">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Mr.WangLi","sameAs":["https://github.com/biwin-wangli","http://stackoverflow.com/users","https://www.linkedin.com/profile/","mailto:274027703@qq.com"],"image":"https://img.biwin.eu.org/touxiang.jpeg"},"articleBody":"\n\n\n\n\nDocker数据持久化Volume\n1.创建mysql数据库的container\n\n1docker run -d --name mysql01 -e MYSQL_ROOT_PASSWORD=123456 mysql\n\n\n2.查看volume\n\n1docker volume ls\n\n\n3.具体查看该volume\n\n12docker volume inspect48507d0e7936f94eb984adf8177ec50fc6a7ecd8745ea0bc165ef485371589e8\n\n\n4.volume自动生成的太长，不好记，我们可以修改\n“-v mysql01_volume:&#x2F;var&#x2F;lib&#x2F;mysql”表示给上述的volume起一个能识别的名字\n\n1docker run -d --name mysql01 -v mysql01_volume:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=jack123  mysql\n\n\n5.查看volume\n\n12docker volume lsdocker volume inspect mysql01_volume\n\n\n真的能够持久化保存数据吗？不妨来做个实验\n\n123456789101112131415161718192021222324252627282930313233# 进入容器中    docker exec -it mysql01 bash    # 登录mysql服务    mysql -uroot -pjack123    # 创建测试库    create database db_test    # 退出mysql服务，退出mysql container# 删除mysql容器    docker rm -f mysql01    # 查看volume    docker volume ls    # 发现volume还在    DRIVER VOLUME NAME    local mysql01_volume# 新建一个mysql container，并且指定使用&quot;mysql01_volume&quot;    docker run -d --name test-mysql -v mysql01_volume:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=jack123 mysql    # 进入容器，登录mysql服务，查看数据库    docker exec -it test-mysql bash    mysql -uroot -pjack123    show database;# 可以发现db_test仍然在    | information_schema |    | db_test       |    | mysql   |    | performance_schema |    | sys                |\n\nBind Mounting\n1.创建一个tomcat容器\n\n12docker run -d --name tomcat01 -p 9090:8080 -v/tmp/test:/usr/local/tomcat/webapps/test tomcat\n\n\n2.查看两个目录\n\n12centos：cd /tmp/testtomcat容器：cd /usr/local/tomcat/webapp/test\n\n\n3.在centos的&#x2F;tmp&#x2F;test中新建1.html，并写一些内容\n\n1&lt;p style=&quot;color:blue; font-size:20pt;&quot;&gt;This is p!&lt;/p&gt;\n\n\n4.进入tomcat01的对应目录查看，发现也有一个1.html，并且也有内容\n5.在centos7上访问该路径：curl localhost:9090&#x2F;test&#x2F;1.html\n6.在win浏览器中通过ip访问\n\nMySQL数据库高可用集群搭建12345678910111213141516171819202122232425262728293031323334353637383940414243444501 拉取pxc镜像\tdocker pull percona/percona-xtradb-cluster:5.7.21\t02 复制pxc镜像(实则重命名)\tdocker tag percona/percona-xtradb-cluster:5.7.21 pxc03 删除pxc原来的镜像\tdocker rmi percona/percona-xtradb-cluster:5.7.21\t04 创建一个单独的网段，给mysql数据库集群使用\t(1)docker network create --subnet=172.18.0.0/24 pxc-net\t(2)docket network inspect pxc-net   [查看详情]\t(3)docker network rm pxc-net        [删除]05 创建和删除volume\t创建：docker volume create --name v1\t删除：docker volume rm v1\t查看详情：docker volume inspect v106 创建单个PXC容器demo\t[CLUSTER_NAME PXC集群名字]    [XTRABACKUP_PASSWORD数据库同步需要用到的密码]    \tdocker run -d -p 3301:3306 \t-v v1:/var/lib/mysql\t-e MYSQL_ROOT_PASSWORD=jack123\t-e CLUSTER_NAME=PXC\t-e XTRABACKUP_PASSWORD=jack123\t--privileged --name=node1 --net=pxc-net --ip 172.18.0.2\tpxc\t07 搭建PXC[MySQL]集群\t(1)准备3个数据卷\t\tdocker volume create --name v1\t\tdocker volume create --name v2\t\tdocker volume create --name v3\t(2)运行三个PXC容器\t\tdocker run -d -p 3301:3306 -v v1:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=jack123 -e CLUSTER_NAME=PXC -e XTRABACKUP_PASSWORD=jack123 --privileged --name=node1 --net=pxc-net --ip 172.18.0.2 pxc\t\t\t\t[CLUSTER_JOIN将该数据库加入到某个节点上组成集群]\t\tdocker run -d -p 3302:3306 -v v2:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=jack123 -e CLUSTER_NAME=PXC -e XTRABACKUP_PASSWORD=jack123 -e CLUSTER_JOIN=node1 --privileged --name=node2 --net=pxc-net --ip 172.18.0.3 pxc\t\t\t\tdocker run -d -p 3303:3306 -v v3:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=jack123 -e CLUSTER_NAME=PXC -e XTRABACKUP_PASSWORD=jack123 -e CLUSTER_JOIN=node1 --privileged --name=node3 --net=pxc-net --ip 172.18.0.4 pxc\t(3)MySQL工具连接测试\t\tJetbrains Datagrip\n\n\n\n增加负载均衡\n(1)拉取haproxy镜像\n\n1docker pull haproxy\n\n\n(2)创建haproxy配置文件，这里使用bind mounting的方式\n\n1touch /tmp/haproxy/haproxy.cfg\n\nhaproxy.cfg\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657global\t#工作目录，这边要和创建容器指定的目录对应\tchroot /usr/local/etc/haproxy\t#日志文件\tlog 127.0.0.1 local5 info\t#守护进程运行\tdaemondefaults\tlog\tglobal\tmode\thttp\t#日志格式\toption\thttplog\t#日志中不记录负载均衡的心跳检测记录\toption\tdontlognull \t#连接超时（毫秒）\ttimeout connect 5000 \t#客户端超时（毫秒）\ttimeout client  50000\t#服务器超时（毫秒） \ttimeout server  50000    #监控界面\t    listen  admin_stats\t#监控界面的访问的IP和端口\tbind  0.0.0.0:8888\t#访问协议 \tmode        http\t#URI相对地址 \tstats uri   /dbs_monitor\t#统计报告格式 \tstats realm     Global\\ statistics\t#登陆帐户信息 \tstats auth  admin:admin\t#数据库负载均衡\tlisten  proxy-mysql\t#访问的IP和端口，haproxy开发的端口为3306 \t#假如有人访问haproxy的3306端口，则将请求转发给下面的数据库实例\tbind  0.0.0.0:3306   \t#网络协议\tmode  tcp\t#负载均衡算法（轮询算法）\t#轮询算法：roundrobin\t#权重算法：static-rr\t#最少连接算法：leastconn\t#请求源IP算法：source  \tbalance  roundrobin\t#日志格式 \toption  tcplog\t#在MySQL中创建一个没有权限的haproxy用户，密码为空。\t#Haproxy使用这个账户对MySQL数据库心跳检测 \toption  mysql-check user haproxy\tserver  MySQL_1 172.18.0.2:3306 check weight 1 maxconn 2000   \tserver  MySQL_2 172.18.0.3:3306 check weight 1 maxconn 2000  \tserver  MySQL_3 172.18.0.4:3306 check weight 1 maxconn 2000 \t#使用keepalive检测死链 \toption  tcpka\n\n\n(3)创建haproxy容器，因为当前centos的网络和win使用的是桥接，所以直接端口映射到centos上即可，如果不想用桥接，则需要修改Vagrantfile进行端口映射\n\n12#这样可以直接访问centos的IP:8888和3306docker run -it -d -p 8888:8888 -p 3306:3306 -v /tmp/haproxy:/usr/local/etc/haproxy --name haproxy01 --privileged --net=pxc-net haproxy\n\n\n(4)根据haproxy.cfg文件启动haproxy\n\n12docker exec -it haproxy01 bashhaproxy -f /usr/local/etc/haproxy/haproxy.cfg\n\n\n(5)在MySQL数据库上创建用户，用于心跳检测\n\n123456CREATE USER &#x27;haproxy&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;&#x27;;[小技巧[如果创建失败，可以先输入一下命令]:    drop user &#x27;haproxy&#x27;@&#x27;%&#x27;;    flush privileges;    CREATE USER &#x27;haproxy&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;&#x27;;]\n\n\n(6)win浏览器访问\n\n12http://centos_ip:8888/dbs_monitor用户名密码都是:admin\n\n\n(7)win上的datagrip连接haproxy01\n\n1234ip:centos_ipport:3306user:rootpassword:jack123\n\n\n(8)在haproxy连接上进行数据操作，然后查看数据库集群各个节点\n\nMySQL容器准备\n(1)创建volume\n\n1docker volume create v1\n\n\n(2)创建mysql容器\n\n1docker run -d --name my-mysql -v v1:/var/lib/mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=jack123 --net=pro-net --ip 172.18.0.6 mysql\n\n\n(3)datagrip连接，执行.mysql文件\n\n12345name:my-mysqlip:centos-ip端口:3306user:rootpassword:jack123\n\n12345678910create schema db_pro collate utf8mb4_0900_ai_ci;use db_pro;create table t_user(\tid int not null\t\tprimary key,\tusername varchar(50) not null,\tpassword varchar(50) not null,\tnumber varchar(100) not null);\n\nSpring Boot项目准备\nSpring Boot+MyBatis实现CRUD操作，名称为“springboot-mybatis”\n\n12345678910111213141516171819202122232425262728(1)在本地测试该项目的功能\t主要是修改application.yml文件中数据库的相关配置(2)在项目根目录下执行mvn clean package打成一个jar包\t[记得修改一下application.yml文件数据库配置]\tmvn clean package -Dmaven.test.skip=true\t在target下找到&quot;springboot-mybatis-0.0.1-SNAPSHOT.jar.jar&quot;    (3)在docker环境中新建一个目录&quot;springboot-mybatis&quot;    (4)安装文件传输工具yum install lrzsz，然后上传&quot;springboot-mybatis-0.0.1-SNAPSHOT.jar&quot;到该目录下，并且在此目录创建Dockerfile(5)编写Dockerfile内容\tFROM openjdk:8    MAINTAINER itcrazy2016    LABEL name=&quot;springboot-mybatis&quot; version=&quot;1.0&quot; author=&quot;itcrazy2016&quot;    COPY springboot-mybatis-0.0.1-SNAPSHOT.jar springboot-mybatis.jar    CMD [&quot;java&quot;,&quot;-jar&quot;,&quot;springboot-mybatis.jar&quot;]    (6)基于Dockerfile构建镜像\tdocker build -t sbm-image .(7)基于image创建container\tdocker run -d --name sb01 -p 8081:8080 --net=pro-net --ip 172.18.0.11 sbm-image\t(8)查看启动日志docker logs sb01\t(9)在win浏览器访问http://192.168.8.118:8081/user/listall\n\n\n\n创建多个项目容器\n123docker run -d --name sb01 -p 8081:8080 --net=pro-net --ip 172.18.0.11 sbm-imagedocker run -d --name sb02 -p 8082:8080 --net=pro-net --ip 172.18.0.12 sbm-imagedocker run -d --name sb03 -p 8083:8080 --net=pro-net --ip 172.18.0.13 sbm-image\n\n\n\nNginx准备\n(1)在centos的&#x2F;tmp&#x2F;nginx下新建nginx.conf文件，并进行相应的配置\n\n1234567891011121314151617181920212223242526user nginx;worker_processes  1;events &#123;    worker_connections  1024;&#125;http &#123;    include       /etc/nginx/mime.types;    default_type  application/octet-stream;    sendfile        on;    keepalive_timeout  65;        server &#123;        listen 80;        location / &#123;         proxy_pass http://balance;        &#125;    &#125;        upstream balance&#123;          server 172.18.0.11:8080;        server 172.18.0.12:8080;        server 172.18.0.13:8080;    &#125;    include /etc/nginx/conf.d/*.conf;&#125;\n\n\n(2)创建nginx容器\n注意：先在centos7上创建&#x2F;tmp&#x2F;nginx目录，并且创建nginx.conf文件，写上内容\n\n1docker run -d --name my-nginx -p 80:80 -v /tmp/nginx/nginx.conf:/etc/nginx/nginx.conf --network=pro-net --ip 172.18.0.10 nginx\n\n\n(3)win浏览器访问: ip[centos]&#x2F;user&#x2F;listall\n\n思考：若将172.18.0.11&#x2F;12&#x2F;13改成sb01&#x2F;02&#x2F;03是否可以？","dateCreated":"2019-12-13T11:20:01+08:00","dateModified":"2024-09-01T21:22:28+08:00","datePublished":"2019-12-13T11:20:01+08:00","description":"Docker中的Volume","headline":"四、(Docker系列)Docker项目实战","image":["https://5b868fd.webp.li/docker-conver.png","http://pic.tsmp4.net/api/fengjing/img.php"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.biwin.eu.org/posts/8d02a8ee.html"},"publisher":{"@type":"Organization","name":"Mr.WangLi","sameAs":["https://github.com/biwin-wangli","http://stackoverflow.com/users","https://www.linkedin.com/profile/","mailto:274027703@qq.com"],"image":"https://img.biwin.eu.org/touxiang.jpeg","logo":{"@type":"ImageObject","url":"https://img.biwin.eu.org/touxiang.jpeg"}},"url":"https://blog.biwin.eu.org/posts/8d02a8ee.html","keywords":"docker","thumbnailUrl":"https://5b868fd.webp.li/docker-conver.png"}</script>
    <meta name="description" content="四、Docker项目实战">
<meta property="og:type" content="blog">
<meta property="og:title" content="四、(Docker系列)Docker项目实战">
<meta property="og:url" content="https://blog.biwin.eu.org/posts/8d02a8ee.html">
<meta property="og:site_name" content="BiWin&#39;s Blog">
<meta property="og:description" content="四、Docker项目实战">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-12-13T03:20:01.000Z">
<meta property="article:modified_time" content="2024-09-01T13:22:28.230Z">
<meta property="article:author" content="Mr.WangLi">
<meta property="article:tag" content="docker">
<meta name="twitter:card" content="summary">
    
    
        
    
    
        <meta property="og:image" content="https://img.biwin.eu.org/touxiang.jpeg"/>
    
    
        <meta property="og:image" content="https://5b868fd.webp.li/docker-conver.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://5b868fd.webp.li/docker-conver.png"/>
    
    
        <meta property="og:image" content="http://pic.tsmp4.net/api/fengjing/img.php"/>
        <meta class="swiftype" name="image" data-type="enum" content="http://pic.tsmp4.net/api/fengjing/img.php"/>
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-vfgvchqkdym9obx7tmwvvzqxiypypaaj66luf6y7bb4kfhuqzb8eonjh8v3p.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            BiWin&#39;s Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="打开链接: /#about"
            >
        
        
            <img class="header-picture" src="https://img.biwin.eu.org/touxiang.jpeg" alt="作者的图片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="阅读有关作者的更多信息"
                >
                    <img class="sidebar-profile-picture" src="https://img.biwin.eu.org/touxiang.jpeg" alt="作者的图片"/>
                </a>
                <h4 class="sidebar-profile-name">Mr.WangLi</h4>
                
                    <h5 class="sidebar-profile-bio"><p>喜欢技术，喜欢一个人！</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="首页"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="分类"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="标签"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="归档"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="搜索"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="关于"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/biwin-wangli"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://stackoverflow.com/users"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:274027703@qq.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="邮箱"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">邮箱</span>
                    </a>
            </li>
            
        </ul>
        
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=110 src="//music.163.com/outchain/player?type=0&id=3132987672&auto=1&height=90"></iframe>
    </div>
</nav>

            
        <div class="post-header-cover
                    text-center
                    post-header-cover--full"
             style="background-image:url('http://pic.tsmp4.net/api/fengjing/img.php');"
             data-behavior="4">
            
                <div class="post-header main-content-wrap text-center">
    
        <h1 class="post-title">
            四、(Docker系列)Docker项目实战
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-12-13T11:20:01+08:00">
	
		    2019 年 12 月 13 日
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/devOps/">devOps</a>


    
</div>

        
    
    
        <!-- 不蒜子统计 -->
        <span id="busuanzi_container_page_pv" style='display:none' class="post-meta">
	        <i class="icon-smile icon"></i> 阅读数：<span id="busuanzi_value_page_pv"></span>次
	    </span>
    
</div>

            
        </div>

            <div id="main" data-behavior="4"
                 class="hasCover
                        hasCoverMetaIn
                        hasCoverCaption">
                
<article class="post">
    
        <span class="post-header-cover-caption caption">再繁忙的学习，也需要静一会下来，放松自己，欣赏美丽的风景</span>
    
    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <!-- excerpt -->
<h1 id="table-of-contents">目录</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96"><span class="toc-text">Docker数据持久化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Volume"><span class="toc-text">Volume</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bind-Mounting"><span class="toc-text">Bind Mounting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA"><span class="toc-text">MySQL数据库高可用集群搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="toc-text">增加负载均衡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E5%AE%B9%E5%99%A8%E5%87%86%E5%A4%87"><span class="toc-text">MySQL容器准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Boot%E9%A1%B9%E7%9B%AE%E5%87%86%E5%A4%87"><span class="toc-text">Spring Boot项目准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nginx%E5%87%86%E5%A4%87"><span class="toc-text">Nginx准备</span></a></li></ol></li></ol>



<h2 id="Docker数据持久化"><a href="#Docker数据持久化" class="headerlink" title="Docker数据持久化"></a>Docker数据持久化</h2><h3 id="Volume"><a href="#Volume" class="headerlink" title="Volume"></a>Volume</h3><blockquote>
<p>1.创建mysql数据库的container</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name mysql01 -e MYSQL_ROOT_PASSWORD=123456 mysql</span><br></pre></td></tr></table></figure>

<blockquote>
<p>2.查看volume</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume ls</span><br></pre></td></tr></table></figure>

<blockquote>
<p>3.具体查看该volume</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker volume inspect</span><br><span class="line">48507d0e7936f94eb984adf8177ec50fc6a7ecd8745ea0bc165ef485371589e8</span><br></pre></td></tr></table></figure>

<blockquote>
<p>4.volume自动生成的太长，不好记，我们可以修改</p>
<p>“-v mysql01_volume:&#x2F;var&#x2F;lib&#x2F;mysql”表示给上述的volume起一个能识别的名字</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name mysql01 -v mysql01_volume:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=jack123  mysql</span><br></pre></td></tr></table></figure>

<blockquote>
<p>5.查看volume</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker volume ls</span><br><span class="line">docker volume inspect mysql01_volume</span><br></pre></td></tr></table></figure>

<blockquote>
<p>真的能够持久化保存数据吗？不妨来做个实验</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入容器中</span>    </span><br><span class="line">docker exec -it mysql01 bash    </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">登录mysql服务</span>    </span><br><span class="line">mysql -uroot -pjack123    </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建测试库</span>    </span><br><span class="line">create database db_test    </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">退出mysql服务，退出mysql container</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除mysql容器</span>    </span><br><span class="line">docker rm -f mysql01    </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看volume</span>    </span><br><span class="line">docker volume ls    </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现volume还在</span>    </span><br><span class="line">DRIVER VOLUME NAME    </span><br><span class="line">local mysql01_volume</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">新建一个mysql container，并且指定使用<span class="string">&quot;mysql01_volume&quot;</span></span>    </span><br><span class="line">docker run -d --name test-mysql -v mysql01_volume:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=jack123 mysql    </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入容器，登录mysql服务，查看数据库</span>    </span><br><span class="line">docker exec -it test-mysql bash    mysql -uroot -pjack123    show database;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以发现db_test仍然在</span>    </span><br><span class="line">| information_schema |    </span><br><span class="line">| db_test       |    </span><br><span class="line">| mysql   |    </span><br><span class="line">| performance_schema |    </span><br><span class="line">| sys                |</span><br></pre></td></tr></table></figure>

<h3 id="Bind-Mounting"><a href="#Bind-Mounting" class="headerlink" title="Bind Mounting"></a>Bind Mounting</h3><blockquote>
<p>1.创建一个tomcat容器</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name tomcat01 -p 9090:8080 -v</span><br><span class="line">/tmp/test:/usr/local/tomcat/webapps/test tomcat</span><br></pre></td></tr></table></figure>

<blockquote>
<p>2.查看两个目录</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">centos：cd /tmp/test</span><br><span class="line">tomcat容器：cd /usr/local/tomcat/webapp/test</span><br></pre></td></tr></table></figure>

<blockquote>
<p>3.在centos的&#x2F;tmp&#x2F;test中新建1.html，并写一些内容</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color:blue; font-size:20pt;&quot;</span>&gt;</span>This is p!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>4.进入tomcat01的对应目录查看，发现也有一个1.html，并且也有内容</p>
<p>5.在centos7上访问该路径：curl localhost:9090&#x2F;test&#x2F;1.html</p>
<p>6.在win浏览器中通过ip访问</p>
</blockquote>
<h3 id="MySQL数据库高可用集群搭建"><a href="#MySQL数据库高可用集群搭建" class="headerlink" title="MySQL数据库高可用集群搭建"></a>MySQL数据库高可用集群搭建</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">01 拉取pxc镜像</span><br><span class="line">	docker pull percona/percona-xtradb-cluster:5.7.21</span><br><span class="line">	</span><br><span class="line">02 复制pxc镜像(实则重命名)</span><br><span class="line">	docker tag percona/percona-xtradb-cluster:5.7.21 pxc</span><br><span class="line"></span><br><span class="line">03 删除pxc原来的镜像</span><br><span class="line">	docker rmi percona/percona-xtradb-cluster:5.7.21</span><br><span class="line">	</span><br><span class="line">04 创建一个单独的网段，给mysql数据库集群使用</span><br><span class="line">	(1)docker network create --subnet=172.18.0.0/24 pxc-net</span><br><span class="line">	(2)docket network inspect pxc-net   [查看详情]</span><br><span class="line">	(3)docker network rm pxc-net        [删除]</span><br><span class="line"></span><br><span class="line">05 创建和删除volume</span><br><span class="line">	创建：docker volume create --name v1</span><br><span class="line">	删除：docker volume rm v1</span><br><span class="line">	查看详情：docker volume inspect v1</span><br><span class="line"></span><br><span class="line">06 创建单个PXC容器demo</span><br><span class="line">	[CLUSTER_NAME PXC集群名字]</span><br><span class="line">    [XTRABACKUP_PASSWORD数据库同步需要用到的密码]</span><br><span class="line">    </span><br><span class="line">	docker run -d -p 3301:3306 </span><br><span class="line">	-v v1:/var/lib/mysql</span><br><span class="line">	-e MYSQL_ROOT_PASSWORD=jack123</span><br><span class="line">	-e CLUSTER_NAME=PXC</span><br><span class="line">	-e XTRABACKUP_PASSWORD=jack123</span><br><span class="line">	--privileged --name=node1 --net=pxc-net --ip 172.18.0.2</span><br><span class="line">	pxc</span><br><span class="line">	</span><br><span class="line">07 搭建PXC[MySQL]集群</span><br><span class="line">	(1)准备3个数据卷</span><br><span class="line">		docker volume create --name v1</span><br><span class="line">		docker volume create --name v2</span><br><span class="line">		docker volume create --name v3</span><br><span class="line">	(2)运行三个PXC容器</span><br><span class="line">		docker run -d -p 3301:3306 -v v1:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=jack123 -e CLUSTER_NAME=PXC -e XTRABACKUP_PASSWORD=jack123 --privileged --name=node1 --net=pxc-net --ip 172.18.0.2 pxc</span><br><span class="line">		</span><br><span class="line">		[CLUSTER_JOIN将该数据库加入到某个节点上组成集群]</span><br><span class="line">		docker run -d -p 3302:3306 -v v2:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=jack123 -e CLUSTER_NAME=PXC -e XTRABACKUP_PASSWORD=jack123 -e CLUSTER_JOIN=node1 --privileged --name=node2 --net=pxc-net --ip 172.18.0.3 pxc</span><br><span class="line">		</span><br><span class="line">		docker run -d -p 3303:3306 -v v3:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=jack123 -e CLUSTER_NAME=PXC -e XTRABACKUP_PASSWORD=jack123 -e CLUSTER_JOIN=node1 --privileged --name=node3 --net=pxc-net --ip 172.18.0.4 pxc</span><br><span class="line">	(3)MySQL工具连接测试</span><br><span class="line">		Jetbrains Datagrip</span><br></pre></td></tr></table></figure>



<h3 id="增加负载均衡"><a href="#增加负载均衡" class="headerlink" title="增加负载均衡"></a>增加负载均衡</h3><blockquote>
<p>(1)拉取haproxy镜像</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull haproxy</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(2)创建haproxy配置文件，这里使用bind mounting的方式</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /tmp/haproxy/haproxy.cfg</span><br></pre></td></tr></table></figure>

<p><code>haproxy.cfg</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">global</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">工作目录，这边要和创建容器指定的目录对应</span></span><br><span class="line">	chroot /usr/local/etc/haproxy</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">日志文件</span></span><br><span class="line">	log 127.0.0.1 local5 info</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">守护进程运行</span></span><br><span class="line">	daemon</span><br><span class="line"></span><br><span class="line">defaults</span><br><span class="line">	log	global</span><br><span class="line">	mode	http</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">日志格式</span></span><br><span class="line">	option	httplog</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">日志中不记录负载均衡的心跳检测记录</span></span><br><span class="line">	option	dontlognull</span><br><span class="line"><span class="meta prompt_"> 	#</span><span class="language-bash">连接超时（毫秒）</span></span><br><span class="line">	timeout connect 5000</span><br><span class="line"><span class="meta prompt_"> 	#</span><span class="language-bash">客户端超时（毫秒）</span></span><br><span class="line">	timeout client  50000</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">服务器超时（毫秒）</span></span><br><span class="line"> 	timeout server  50000</span><br><span class="line"></span><br><span class="line">    #监控界面	</span><br><span class="line">    listen  admin_stats</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">监控界面的访问的IP和端口</span></span><br><span class="line">	bind  0.0.0.0:8888</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">访问协议</span></span><br><span class="line"> 	mode        http</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">URI相对地址</span></span><br><span class="line"> 	stats uri   /dbs_monitor</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">统计报告格式</span></span><br><span class="line"> 	stats realm     Global\ statistics</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">登陆帐户信息</span></span><br><span class="line"> 	stats auth  admin:admin</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">数据库负载均衡</span></span><br><span class="line">	listen  proxy-mysql</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">访问的IP和端口，haproxy开发的端口为3306</span></span><br><span class="line"><span class="meta prompt_"> 	#</span><span class="language-bash">假如有人访问haproxy的3306端口，则将请求转发给下面的数据库实例</span></span><br><span class="line">	bind  0.0.0.0:3306  </span><br><span class="line"><span class="meta prompt_"> 	#</span><span class="language-bash">网络协议</span></span><br><span class="line">	mode  tcp</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">负载均衡算法（轮询算法）</span></span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">轮询算法：roundrobin</span></span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">权重算法：static-rr</span></span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">最少连接算法：leastconn</span></span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">请求源IP算法：<span class="built_in">source</span></span> </span><br><span class="line"> 	balance  roundrobin</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">日志格式</span></span><br><span class="line"> 	option  tcplog</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">在MySQL中创建一个没有权限的haproxy用户，密码为空。</span></span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">Haproxy使用这个账户对MySQL数据库心跳检测</span></span><br><span class="line"> 	option  mysql-check user haproxy</span><br><span class="line">	server  MySQL_1 172.18.0.2:3306 check weight 1 maxconn 2000  </span><br><span class="line"> 	server  MySQL_2 172.18.0.3:3306 check weight 1 maxconn 2000  </span><br><span class="line">	server  MySQL_3 172.18.0.4:3306 check weight 1 maxconn 2000 </span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">使用keepalive检测死链</span></span><br><span class="line"> 	option  tcpka</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(3)创建haproxy容器，因为当前centos的网络和win使用的是桥接，所以直接端口映射到centos上即可，如果不想用桥接，则需要修改Vagrantfile进行端口映射</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">这样可以直接访问centos的IP:8888和3306</span></span><br><span class="line">docker run -it -d -p 8888:8888 -p 3306:3306 -v /tmp/haproxy:/usr/local/etc/haproxy --name haproxy01 --privileged --net=pxc-net haproxy</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(4)根据haproxy.cfg文件启动haproxy</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it haproxy01 bash</span><br><span class="line">haproxy -f /usr/local/etc/haproxy/haproxy.cfg</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(5)在MySQL数据库上创建用户，用于心跳检测</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER &#x27;haproxy&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;&#x27;;</span><br><span class="line">[小技巧[如果创建失败，可以先输入一下命令]:</span><br><span class="line">    drop user &#x27;haproxy&#x27;@&#x27;%&#x27;;</span><br><span class="line">    flush privileges;</span><br><span class="line">    CREATE USER &#x27;haproxy&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;&#x27;;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(6)win浏览器访问</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://centos_ip:8888/dbs_monitor</span><br><span class="line">用户名密码都是:admin</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(7)win上的datagrip连接haproxy01</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ip:centos_ip</span><br><span class="line">port:3306</span><br><span class="line">user:root</span><br><span class="line">password:jack123</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(8)在haproxy连接上进行数据操作，然后查看数据库集群各个节点</p>
</blockquote>
<h3 id="MySQL容器准备"><a href="#MySQL容器准备" class="headerlink" title="MySQL容器准备"></a>MySQL容器准备</h3><blockquote>
<p>(1)创建volume</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume create v1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(2)创建mysql容器</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name my-mysql -v v1:/var/lib/mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=jack123 --net=pro-net --ip 172.18.0.6 mysql</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(3)datagrip连接，执行.mysql文件</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name:my-mysql</span><br><span class="line">ip:centos-ip</span><br><span class="line">端口:3306</span><br><span class="line">user:root</span><br><span class="line">password:jack123</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> schema db_pro <span class="keyword">collate</span> utf8mb4_0900_ai_ci;</span><br><span class="line">use db_pro;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t_user</span><br><span class="line">(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">		<span class="keyword">primary</span> key,</span><br><span class="line">	username <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">	password <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">	number <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="Spring-Boot项目准备"><a href="#Spring-Boot项目准备" class="headerlink" title="Spring Boot项目准备"></a>Spring Boot项目准备</h3><blockquote>
<p>Spring Boot+MyBatis实现CRUD操作，名称为“springboot-mybatis”</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">(1)在本地测试该项目的功能</span><br><span class="line">	主要是修改application.yml文件中数据库的相关配置</span><br><span class="line"></span><br><span class="line">(2)在项目根目录下执行mvn clean package打成一个jar包</span><br><span class="line">	[记得修改一下application.yml文件数据库配置]</span><br><span class="line">	mvn clean package -Dmaven.test.skip=true</span><br><span class="line">	在target下找到&quot;springboot-mybatis-0.0.1-SNAPSHOT.jar.jar&quot;</span><br><span class="line">    </span><br><span class="line">(3)在docker环境中新建一个目录&quot;springboot-mybatis&quot;</span><br><span class="line">    </span><br><span class="line">(4)安装文件传输工具yum install lrzsz，然后上传&quot;springboot-mybatis-0.0.1-SNAPSHOT.jar&quot;到该目录下，并且在此目录创建Dockerfile</span><br><span class="line"></span><br><span class="line">(5)编写Dockerfile内容</span><br><span class="line">	FROM openjdk:8</span><br><span class="line">    MAINTAINER itcrazy2016</span><br><span class="line">    LABEL name=&quot;springboot-mybatis&quot; version=&quot;1.0&quot; author=&quot;itcrazy2016&quot;</span><br><span class="line">    COPY springboot-mybatis-0.0.1-SNAPSHOT.jar springboot-mybatis.jar</span><br><span class="line">    CMD [&quot;java&quot;,&quot;-jar&quot;,&quot;springboot-mybatis.jar&quot;]</span><br><span class="line">    </span><br><span class="line">(6)基于Dockerfile构建镜像</span><br><span class="line">	docker build -t sbm-image .</span><br><span class="line"></span><br><span class="line">(7)基于image创建container</span><br><span class="line">	docker run -d --name sb01 -p 8081:8080 --net=pro-net --ip 172.18.0.11 sbm-image</span><br><span class="line">	</span><br><span class="line">(8)查看启动日志docker logs sb01</span><br><span class="line">	</span><br><span class="line">(9)在win浏览器访问http://192.168.8.118:8081/user/listall</span><br></pre></td></tr></table></figure>



<p><strong>创建多个项目容器</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name sb01 -p 8081:8080 --net=pro-net --ip 172.18.0.11 sbm-image</span><br><span class="line">docker run -d --name sb02 -p 8082:8080 --net=pro-net --ip 172.18.0.12 sbm-image</span><br><span class="line">docker run -d --name sb03 -p 8083:8080 --net=pro-net --ip 172.18.0.13 sbm-image</span><br></pre></td></tr></table></figure>



<h3 id="Nginx准备"><a href="#Nginx准备" class="headerlink" title="Nginx准备"></a>Nginx准备</h3><blockquote>
<p>(1)在centos的&#x2F;tmp&#x2F;nginx下新建nginx.conf文件，并进行相应的配置</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">user nginx;</span><br><span class="line">worker_processes  1;</span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line">http &#123;</span><br><span class="line">    include       /etc/nginx/mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65; </span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        location / &#123;</span><br><span class="line">         proxy_pass http://balance;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    upstream balance&#123;  </span><br><span class="line">        server 172.18.0.11:8080;</span><br><span class="line">        server 172.18.0.12:8080;</span><br><span class="line">        server 172.18.0.13:8080;</span><br><span class="line">    &#125;</span><br><span class="line">    include /etc/nginx/conf.d/*.conf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(2)创建nginx容器</p>
<p><code>注意</code>：先在centos7上创建&#x2F;tmp&#x2F;nginx目录，并且创建nginx.conf文件，写上内容</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name my-nginx -p 80:80 -v /tmp/nginx/nginx.conf:/etc/nginx/nginx.conf --network=pro-net --ip 172.18.0.10 nginx</span><br></pre></td></tr></table></figure>

<blockquote>
<p>(3)win浏览器访问: ip[centos]&#x2F;user&#x2F;listall</p>
</blockquote>
<p><code>思考</code>：若将172.18.0.11&#x2F;12&#x2F;13改成sb01&#x2F;02&#x2F;03是否可以？</p>
            


        </div>
    </div>
    <br/>
    <!-- 添加的部分 -->
    <!-- copyright -->
    
        <style>
.article-footer-copyright {
	border-left-color: #f66;
	padding: 12px 24px 12px 30px;
    margin: 2em 0;
    border-left-width: 4px;
    border-left-style: solid;
    background-color: #f8f8f8;
    position: relative;
    border-bottom-right-radius: 2px;
    border-top-right-radius: 2px;
	margin:0 auto;
	max-width: 850px;}
</style>
<div class="article-footer-copyright">
    <!-- <span>本文标题:</span><href="/%20"> 四、(Docker系列)Docker项目实战</a><br/> -->
    <!-- <span>文章作者:</span><a href="/" title="访问 Mr.WangLi的个人博客">Mr.WangLi</a><br/> -->
	<span>版权归属:</span><a href="/" title="访问 Mr.WangLi的个人博客">Mr.WangLi</a><br/>
    <span>发布时间:</span>2019年12月13日 - 11:20 | 
    <span>最后更新:</span>2024年09月01日 - 21:22<br/>
    <span>原始链接:</span><a href="/posts/8d02a8ee.html" title="四、(Docker系列)Docker项目实战">https://blog.biwin.eu.org/posts/8d02a8ee.html</a><br/>
    <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://blog.biwin.eu.org/posts/8d02a8ee.html"  aria-label="复制成功！"></i></span><br/>
    <span>许可协议:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">知识共享署名4.0 国际许可协议</a> 转载请保留原文链接及作者。
</div>

    
    <!-- copyright -->
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">标签</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/docker/" rel="tag">docker</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/posts/4e3779c6.html"
                    data-tooltip="HashMap为什么线程不安全"
                    aria-label="上一篇: HashMap为什么线程不安全"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/posts/a95bfc2e.html"
                    data-tooltip="docker工具箱命令集-问题集锦"
                    aria-label="下一篇: docker工具箱命令集-问题集锦"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://blog.biwin.eu.org/posts/8d02a8ee.html"
                    title="分享到 Weibo"
                    aria-label="分享到 Weibo"
                >
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.biwin.eu.org/posts/8d02a8ee.html&amp;title=四、(Docker系列)Docker项目实战"
                    title="分享到 QQ"
                    aria-label="分享到 QQ"
                >
                    <i class="fab fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://blog.biwin.eu.org/posts/8d02a8ee.html"
                    title="分享到 Qzone"
                    aria-label="分享到 Qzone"
                >
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <br/>
<div class="vcomment"></div>
            
        
    </div>
</article>




                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2024 Mr.WangLi. All Rights Reserved.
    </span>
    <br/>
    
        <!-- 不蒜子统计 -->
        <span id="busuanzi_container_site_pv">
	                本站总访问量<span id="busuanzi_value_site_pv"></span>次
	        </span>
        <span class="post-meta-divider">|</span>
        <span id="busuanzi_container_site_uv" style='display:none'>
	                本站访客数<span id="busuanzi_value_site_uv"></span>人
	        </span>
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/posts/4e3779c6.html"
                    data-tooltip="HashMap为什么线程不安全"
                    aria-label="上一篇: HashMap为什么线程不安全"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/posts/a95bfc2e.html"
                    data-tooltip="docker工具箱命令集-问题集锦"
                    aria-label="下一篇: docker工具箱命令集-问题集锦"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://blog.biwin.eu.org/posts/8d02a8ee.html"
                    title="分享到 Weibo"
                    aria-label="分享到 Weibo"
                >
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.biwin.eu.org/posts/8d02a8ee.html&amp;title=四、(Docker系列)Docker项目实战"
                    title="分享到 QQ"
                    aria-label="分享到 QQ"
                >
                    <i class="fab fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://blog.biwin.eu.org/posts/8d02a8ee.html"
                    title="分享到 Qzone"
                    aria-label="分享到 Qzone"
                >
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="http://service.weibo.com/share/share.php?&amp;title=https://blog.biwin.eu.org/posts/8d02a8ee.html"
                        aria-label="分享到 Weibo"
                    >
                        <i class="fab fa-weibo" aria-hidden="true"></i><span>分享到 Weibo</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.biwin.eu.org/posts/8d02a8ee.html&amp;title=四、(Docker系列)Docker项目实战"
                        aria-label="分享到 QQ"
                    >
                        <i class="fab fa-qq" aria-hidden="true"></i><span>分享到 QQ</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://blog.biwin.eu.org/posts/8d02a8ee.html"
                        aria-label="分享到 Qzone"
                    >
                        <i class="fa fa-star" aria-hidden="true"></i><span>分享到 Qzone</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://img.biwin.eu.org/touxiang.jpeg" alt="作者的图片"/>
        
            <h4 id="about-card-name">Mr.WangLi</h4>
        
            <div id="about-card-bio"><p>喜欢技术，喜欢一个人！</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>一个有脾气的 Javaer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                中国·四川·成都
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="/assets/images/logo-algolia-nebula-blue-full.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">没有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/e800f027.html"
                            aria-label=": Java8新特性之Lambda表达式"
                        >
                            <img class="media-image" src="https://api.dujin.org/bing/1366.php" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/e800f027.html"
                            aria-label=": Java8新特性之Lambda表达式"
                        >
                            <h3 class="media-heading">Java8新特性之Lambda表达式</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年6月19日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>lambda表达式是java8给我们带来的几个重量级新特性之一，借用lambda表达式，可以让我们的java程序设计更加简洁。最近新的项目摒弃了1.6的版本，全面基于java8进行开发，本篇文章是java8新特性的第一篇，将探讨行为参数化、lambda表达式，以及方法引用。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/e19f5dc7.html"
                            aria-label=": Java8新特性之Optional类"
                        >
                            <img class="media-image" src="https://api.dujin.org/bing/1366.php" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/e19f5dc7.html"
                            aria-label=": Java8新特性之Optional类"
                        >
                            <h3 class="media-heading">Java8新特性之Optional类</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年6月19日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Optional不是对null关键字的一种替代，而是对于null判定提供了一种更加优雅的实现</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/df816e2e.html"
                            aria-label=": Java8新特性之流式数据处理"
                        >
                            <img class="media-image" src="https://api.dujin.org/bing/1366.php" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/df816e2e.html"
                            aria-label=": Java8新特性之流式数据处理"
                        >
                            <h3 class="media-heading">Java8新特性之流式数据处理</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年6月20日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>java8的流式处理极大了简化我们对于集合、数组等结构的操作，让我们可以以函数式的思想去操作，本篇文章将探讨java8的流式数据处理的基本使用。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/4e2dcaec.html"
                            aria-label=": Java8新特性之默认接口方法"
                        >
                            <img class="media-image" src="https://api.dujin.org/bing/1366.php" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/4e2dcaec.html"
                            aria-label=": Java8新特性之默认接口方法"
                        >
                            <h3 class="media-heading">Java8新特性之默认接口方法</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年6月21日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>从java8开始，接口不只是一个只能声明方法的地方，我们还可以在声明方法时，给方法一个默认的实现，我们称之为默认接口方法，这样所有实现该接口的子类都可以持有该方法的默认实现。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/f5f90d4.html"
                            aria-label=": 一、(Docker系列)初识Docker，搭建本地环境"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/f5f90d4.html"
                            aria-label=": 一、(Docker系列)初识Docker，搭建本地环境"
                        >
                            <h3 class="media-heading">一、(Docker系列)初识Docker，搭建本地环境</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年11月5日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>学习搭建Docker环境，结合{ % post_link docker工具箱命令集-问题集锦 % }食用，效果佳</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/1d2e50aa.html"
                            aria-label=": 二、(Docker系列)Docker灵魂探讨"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/1d2e50aa.html"
                            aria-label=": 二、(Docker系列)Docker灵魂探讨"
                        >
                            <h3 class="media-heading">二、(Docker系列)Docker灵魂探讨</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年11月6日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>深入学习Image和Container</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/a2fc68e9.html"
                            aria-label=": 三、(Docker系列)Docker精髓剖析-网络"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/a2fc68e9.html"
                            aria-label=": 三、(Docker系列)Docker精髓剖析-网络"
                        >
                            <h3 class="media-heading">三、(Docker系列)Docker精髓剖析-网络</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年11月15日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Docker和Linux中的网络深入</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/525c4592.html"
                            aria-label=": 五、(Docker系列)Docker深度提升篇笔记"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/525c4592.html"
                            aria-label=": 五、(Docker系列)Docker深度提升篇笔记"
                        >
                            <h3 class="media-heading">五、(Docker系列)Docker深度提升篇笔记</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年11月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Docker Compose与Docker Swarm</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/a95bfc2e.html"
                            aria-label=": docker工具箱命令集-问题集锦"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/a95bfc2e.html"
                            aria-label=": docker工具箱命令集-问题集锦"
                        >
                            <h3 class="media-heading">docker工具箱命令集-问题集锦</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年11月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Vagrant Docker 命令集解释备忘</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/8d02a8ee.html"
                            aria-label=": 四、(Docker系列)Docker项目实战"
                        >
                            <img class="media-image" src="https://5b868fd.webp.li/docker-conver.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://blog.biwin.eu.org/posts/8d02a8ee.html"
                            aria-label=": 四、(Docker系列)Docker项目实战"
                        >
                            <h3 class="media-heading">四、(Docker系列)Docker项目实战</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年12月13日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Docker中的Volume</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="没有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 17 篇文章
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-2ilv1quqkw94scdhy4pnuktwociarglt6w05ucfykbnexqz9mfxy2dvfhgcl.min.js"></script>

<!--SCRIPTS END-->


    
        
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>

        <script>
            new Valine({
                el: '.vcomment',
                notify: false,
                verify: false,
                appId: "6Im09hBEDOiBEU45f3fOc9Hm-gzGzoHsz",
                appKey: "Tc4aa3tRDVWw4GJEcBNfaAuB",
                placeholder: "发现问题，讨论问题，反馈问题，欢迎您的留言和评论！",
                pageSize:'10',
                avatar:'monsterid',
                meta: ['nick', 'mail'],
                lang:''
            })
        </script>
    



    
<script src="/assets/js/moment-with-locales.js"></script>

    
<script src="/assets/js/algoliasearch.js"></script>

    <script>
        var algoliaClient = algoliasearch('I16OUI732Q', 'e1b3e94dd16c5fd972a4f855178f99f8');
        var algoliaIndex = algoliaClient.initIndex('blog');
    </script>


    </body>
</html>
